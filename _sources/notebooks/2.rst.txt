
EDA and Initial Model Visualization
===================================

.. code:: ipython3

    """ Notebook Setup/Imports
    """
    
    # Project path setup
    from pathlib import Path
    project_dir = Path(__name__).resolve().parents[1]
    
    # Library import
    import pandas as pd
    import numpy as np
    import plotly as py
    py.tools.set_credentials_file(username="NoahtTristan", api_key="A3pWAtQEqacwCMtXMNvR")
    import plotly.figure_factory as ff
    
    # Print strings as markdown
    from IPython.display import Markdown
    
    # Data variables from previous notebook
    dataset = pd.read_pickle(Path.joinpath(project_dir, "data/processed/1_data.pickle"))
    data_dictionary = pd.read_pickle(Path.joinpath(project_dir, "data/processed/1_data_dictionary.pickle"))

Plot USDA Model
---------------

.. code:: ipython3

    fips = dataset.index.to_list()
    values = [ 1 if x else 0 for x in dataset['USDA Model']]
    
    fig = ff.create_choropleth(fips=fips, values=values)
    py.plotly.iplot(fig, filename='USDA Initial Model')


.. parsed-literal::

    /home/travis/virtualenv/python3.7-dev/lib/python3.7/site-packages/pandas/core/frame.py:6692: FutureWarning:
    
    Sorting because non-concatenation axis is not aligned. A future version
    of pandas will change to not sort by default.
    
    To accept the future behavior, pass 'sort=False'.
    
    To retain the current behavior and silence the warning, pass 'sort=True'.
    
    
    /home/travis/virtualenv/python3.7-dev/lib/python3.7/site-packages/plotly/plotly/plotly.py:248: UserWarning:
    
    Woah there! Look at all those points! Due to browser limitations, the Plotly SVG drawing functions have a hard time graphing more than 500k data points for line charts, or 40k points for other types of charts. Here are some suggestions:
    (1) Use the `plotly.graph_objs.Scattergl` trace object to generate a WebGl graph.
    (2) Trying using the image API to return an image instead of a graph URL
    (3) Use matplotlib
    (4) See if you can create your visualization with fewer data points
    
    If the visualization you're using aggregates points (e.g., box plot, histogram, etc.) you can disregard this warning.
    


.. parsed-literal::

    The draw time for this plot will be slow for all clients.


.. parsed-literal::

    /home/travis/virtualenv/python3.7-dev/lib/python3.7/site-packages/plotly/api/v1/clientresp.py:40: UserWarning:
    
    Estimated Draw Time Too Long
    
    /home/travis/virtualenv/python3.7-dev/lib/python3.7/site-packages/IPython/core/display.py:689: UserWarning:
    
    Consider using IPython.display.IFrame instead
    




.. raw:: html

    <iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" src="https://plot.ly/~NoahtTristan/2.embed" height="450px" width="900px"></iframe>



